{% extends "GeoAppBundle::layout.html.twig" %}

{% block title %}
  Register
{% endblock %}

{% block javascripts %}
<script type="text/javascript">
$(function(){

  $('#form-register .ui.checkbox').checkbox();

  $('#form-register').form({
    username: {
      identifier  : 'username',
      rules: [
        {
          type   : 'empty',
          prompt : 'Please enter a username'
        },
        {
          type   : 'length[6]',
          prompt : 'Username too sort.<br>Try with one with more than 6 characters'
        },
      ]
    },
    password: {
      identifier  : 'password',
      rules: [
        {
          type   : 'empty',
          prompt : 'Please enter a password'
        },
        {
          type   : 'length[6]',
          prompt : 'Password too sort.<br>Try with one with more than 6 characters'
        },
      ]
    },
    repeat_password: {
      identifier  : 'repeat_password',
      rules: [
        {
          type   : 'empty',
          prompt : 'Please repeat the password'
        },
        {
          type   : 'match[password]',
          prompt : 'Passwords do not match'
        },
      ]
    },
  }, {
    on: 'submit',
    inline: 'true'
  });

})
</script>
{% endblock %}

{% block wrapper %}
<div class="ui smallbox">
  <div class="logo" style="text-align:center">Register</div>
  <div class="ui piled segment">
  {{ form_start(form, { 'attr': {'id': 'form-register','class': 'ui form'} }) }}
    {{ form_errors(form) }}
    <div class="field" style="padding-top:5px;">
      <div class="ui big fluid left icon input">
        <i class="user icon"></i>
        {{ form_widget(form.user.username) }}
      </div>
    </div>
    <div class="field" style="padding-top:5px;">
      <div class="ui big fluid left icon input">
        <i class="lock icon"></i>
        {{ form_widget(form.user.password.password) }}
      </div>
    </div>
    <div class="field" style="padding-top:5px;">
      <div class="ui big fluid left icon input">
        <i class="refresh icon"></i>
        {{ form_widget(form.user.password.repeat) }}
      </div>
    </div>
    <div class="field" style="padding-top:5px;text-align:center">
      <div class="ui checkbox">
        {{ form_widget(form.terms) }}
        <label for="{{ form.terms.vars.id }}">
          I have read and accept the <a href="tos" class='amodal'>TOS</a>
        </label>
      </div>
    </div>
    <div class="field" style="padding-top:5px;">
      {{ form_widget(form.Register, { 'attr': {'class': "ui big fluid button green"} }) }}
    </div>
  {{ form_end(form) }}
  </div>
</div>
{% endblock %}
